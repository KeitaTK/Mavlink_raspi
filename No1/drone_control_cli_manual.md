<!-- # ドローン制御CLI 操作マニュアル（NED座標系）

## 概要
NED座標系によるドローン制御CLIアプリケーション

**ファイル名**: `drone_control_cli.py`

---
# ドローン制御CLI 操作マニュアル（NED座標系・ログなし）
## 機能一覧

1. **離陸地点自動記録・離陸**
2. **wasd平行移動（w=南、s=北、a=東、d=西）**
3. **上下矢印で上下移動（↑=上、↓=下）**
4. **5cm移動（通常）/ 20cm移動（Shift）**
5. **RTH（離陸地点直上に移動して着陸）**
6. **ヨー軸常に南向き（180度固定）**
7. **任意位置の記録・東1m移動・記録位置へ戻る（p/e/bキー）**
8. **ログ・記録機能なし**
## 座標系：NED（North-East-Down）

- **X軸**: 北方向が正（+）、南方向が負（-）
- **Y軸**: 東方向が正（+）、西方向が負（-）
- **Z軸**: 下方向が正（+）、上方向が負（-）
- **原点**: 最初にGPS信号を受信した地点
- **Z軸は下向き正なので、上昇すると負の値**

---

## 離陸高度

- 離陸時は **50cm（0.5m）** 浮上します。
- NED座標系では `Z = -0.5` となります（上昇＝負）
---

## 座標系：NED（North-East-Down）

### ローカル座標系
- **X軸**: 北方向が正（+）、南方向が負（-）
- **Y軸**: 東方向が正（+）、西方向が負（-）
- **Z軸**: 下方向が正（+）、**上方向が負（-）**
- **原点**: 最初にGPS信号を受信した地点

### 重要な注意点
- Z軸は**下向きが正**なので、上昇すると負の値になります
- 高度0.5mの場合、Z = -0.5m（NED系）


### 操作の流れ

1. **Guidedモードに切り替え** → RC送信機で操作
2. **アーム** → RC送信機で操作
3. **[t]キーで離陸開始**（自動的に離陸地点記録）
4. **離陸完了後、各種コマンドで操作** -->

<!-- --- -->

### 【離陸制御】

| キー | 動作 | 説明 |
|------|------|------|
| `t` | 離陸 | 離陸地点を自動記録して離陸指令送信（高度0.5m） |



### 【5cm移動（通常キー）】

| キー | 動作     | NED座標 | 移動量 |
|------|----------|---------|--------|
| `w`  | 南へ移動 | -X方向  | 5cm    |
| `s`  | 北へ移動 | +X方向  | 5cm    |
| `a`  | 東へ移動 | +Y方向  | 5cm    |
| `d`  | 西へ移動 | -Y方向  | 5cm    |
| `↑`  | 上昇     | -Z方向  | 5cm    |
| `↓`  | 下降     | +Z方向  | 5cm    |

### 【20cm移動（Shift=大文字キー）】

| キー | 動作 | NED座標 | 移動量 |
|------|------|---------|--------|
| `W` | 南へ移動 | -X方向 | 20cm |
| `S` | 北へ移動 | +X方向 | 20cm |
| `A` | 東へ移動 | +Y方向 | 20cm |
| `D` | 西へ移動 | -Y方向 | 20cm |

**注意**: 
- wasd=5cm移動、WASD（大文字）=20cm移動
- 上下20cm移動は実装されていません（矢印キー=5cmのみ）

### 【位置記録・移動】

| キー | 動作 | 説明 |
|------|------|------|
| `p` | 現在位置を記録 | 現在のNED座標を記録 |
| `e` | 記録位置から東へ1m移動 | 記録した位置から東（Y+方向）へ1mの目標を一気に設定 |
| `b` | 記録位置へ戻る | 記録した位置に一気に目標を設定して戻る |

### 【RTH】

| キー | 動作 | 説明 |
|------|------|------|
| `r` | RTH実行 | 現在高度のまま離陸地点直上へ移動→自動着陸 |

