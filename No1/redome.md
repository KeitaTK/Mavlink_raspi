# No1 ディレクトリ 機能まとめ (redome.md)

## 概要
No1ディレクトリは、MAVLinkを用いたドローン（ArduPilot系）の制御・パラメータ設定・各種テスト・データ送信など、実運用や開発・検証に必要な多様なスクリプト群で構成されています。

---

## 主要ファイルと機能

### setup_ELRS_4.py
- **機体のパラメータ一括設定・保存**
  - MAVLink経由でArduPilotの各種パラメータを一括設定し、EEPROMへ保存。
  - 各種制御（EKF, GPS, PID, Observer, RC, バッテリー, モーター, 安全, ログ等）を細かく自動設定。
  - 設定値の確認・再設定・保存失敗時のリトライ機能付き。
  - 吊荷制御やELRS受信機設定にも対応。

### send_GPS2.py
- **外部からのGPS情報送信・ブリッジ**
  - UDP受信で外部システムからの位置・姿勢データを受け取り、MAVLinkのGPS_INPUTメッセージとしてArduPilotに送信。
  - 15Hz周期での定期送信や、タイミング誤差の記録・再同期機能も実装。
  - クラス設計（ArduPilotConnector, UDPReceiver, PeriodicSender）で拡張性あり。

### guided_saveGPS4.py
- **GuidedモードでのGPS制御・データ保存**
  - 詳細はコード要確認だが、Guidedモードでの自律飛行やGPSデータの保存・管理に関する機能を持つと推測。

### param.py
- **パラメータ操作用ユーティリティ**
  - パラメータの取得・設定・保存など、ArduPilotのパラメータ管理を補助するスクリプト。

### up_to_down3.py
- **上位→下位通信/制御関連**
  - 詳細はコード要確認だが、外部システムからのコマンド受信やデータ転送など、上位→下位方向の通信・制御に関する機能を持つと推測。

---

## Archive/ サブディレクトリ
- **過去バージョンやテスト・検証用スクリプトの保管場所**
- 例: up_to_down1.py, up_to_down2.py, setup_ELRS_2.py, setup_ELRS_3.py など
- 各種チェック（check_*.py）、ログ取得（Log_*.py）、再起動・パラメータ検証（reboot.py, check_VERSION.py）など多様な補助ツールを含む。

---

## 特徴・設計方針
- MAVLink通信を活用した自動化・効率化
- パラメータ設定の自動化・一括化
- テスト・検証・デバッグ用スクリプトの充実
- 各種センサ・外部システムとの連携を想定

---

## 使い方例
- setup_ELRS_4.pyで機体パラメータを一括設定し、send_GPS2.pyで外部からの位置情報をリアルタイム送信。
- guided_saveGPS4.pyで自律飛行やデータ記録を実施。
- param.pyやArchive内ツールでパラメータや動作の検証・デバッグを行う。

---

## 注意
- 各スクリプトの詳細な使い方・引数・前提条件は、個別の.pyファイル内コメントや関数定義を参照してください。
- Archive/配下は過去バージョンや補助ツールのため、現行運用はNo1直下のスクリプトが中心です。

---

(2026/02/02 自動生成)
